{"ast":null,"code":"import config from '../config';\nexport var currentUser = {};\nexport function signUp(usersData) {\n  console.log(\"signing up...\", usersData); // return a promise\n\n  return fetch(config.serverUrl + '/api/auth/signup', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ ...usersData\n    })\n  }).then(res => {\n    if (res.status === 200) {\n      alert('Successfully signed up, please log in.');\n      window.location = \"http://localhost:3000/login_page\";\n      return res.json();\n    } else {\n      alert('Email has been registered, please try another one.');\n      window.location = \"http://localhost:3000/signup_page\";\n    }\n  });\n}\nexport function logIn(usersData) {\n  console.log(usersData);\n  return fetch(config.serverUrl + '/api/auth/login', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ ...usersData\n    })\n  }).then(res => {\n    if (res.status === 200) {\n      alert('Successfully logged in!');\n      window.location = \"http://localhost:3000\";\n      return res.json();\n    } else {\n      alert('Wrong Email or password, please try agian.');\n      localStorage.setItem('ifLogged', 'N');\n      window.location = \"http://localhost:3000/login_page\";\n    }\n  }).then(res => {\n    //console.log('the res is: ', res)//it worked!\n    currentUser = res;\n\n    if (currentUser) {\n      localStorage.setItem('firstName', currentUser.firstName);\n      localStorage.setItem('lastName', currentUser.lastName);\n      localStorage.setItem('ifLogged', 'Y'); //potential type issue\n    }\n  });\n}\nexport function logOut(usersData) {}","map":{"version":3,"sources":["/Users/Joesph/React_Apps/wikiforum-v2.0/client/src/api/authmanagement.js"],"names":["config","currentUser","signUp","usersData","console","log","fetch","serverUrl","method","headers","body","JSON","stringify","then","res","status","alert","window","location","json","logIn","localStorage","setItem","firstName","lastName","logOut"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,WAAnB;AAEA,OAAO,IAAIC,WAAW,GAAG,EAAlB;AAEP,OAAO,SAASC,MAAT,CAAgBC,SAAhB,EAA0B;AAC/BC,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BF,SAA7B,EAD+B,CAE/B;;AACE,SAAOG,KAAK,CAACN,MAAM,CAACO,SAAP,GAAiB,kBAAlB,EAAsC;AAC9CC,IAAAA,MAAM,EAAE,MADsC;AAE9CC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KAFqC;AAKhDC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CACJ,EACE,GAAGT;AADL,KADI;AAL0C,GAAtC,CAAL,CAUFU,IAVE,CAWHC,GAAG,IAAI;AACL,QAAGA,GAAG,CAACC,MAAJ,KAAe,GAAlB,EAAsB;AACpBC,MAAAA,KAAK,CAAC,wCAAD,CAAL;AACAC,MAAAA,MAAM,CAACC,QAAP,GAAkB,kCAAlB;AACA,aAAOJ,GAAG,CAACK,IAAJ,EAAP;AACD,KAJD,MAIO;AACLH,MAAAA,KAAK,CAAC,oDAAD,CAAL;AACAC,MAAAA,MAAM,CAACC,QAAP,GAAkB,mCAAlB;AACD;AACF,GApBE,CAAP;AAsBH;AAED,OAAO,SAASE,KAAT,CAAejB,SAAf,EAAyB;AAC9BC,EAAAA,OAAO,CAACC,GAAR,CAAYF,SAAZ;AACA,SAAOG,KAAK,CAACN,MAAM,CAACO,SAAP,GAAiB,iBAAlB,EAAqC;AAC/CC,IAAAA,MAAM,EAAE,MADuC;AAE/CC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KAFsC;AAK/CC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CACJ,EACE,GAAGT;AADL,KADI;AALyC,GAArC,CAAL,CASCU,IATD,CAUHC,GAAG,IAAI;AACL,QAAGA,GAAG,CAACC,MAAJ,KAAe,GAAlB,EAAsB;AACpBC,MAAAA,KAAK,CAAC,yBAAD,CAAL;AACAC,MAAAA,MAAM,CAACC,QAAP,GAAkB,uBAAlB;AACA,aAAOJ,GAAG,CAACK,IAAJ,EAAP;AACD,KAJD,MAIO;AACLH,MAAAA,KAAK,CAAC,4CAAD,CAAL;AACAK,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiC,GAAjC;AACAL,MAAAA,MAAM,CAACC,QAAP,GAAkB,kCAAlB;AACD;AACF,GApBE,EAqBHL,IArBG,CAqBGC,GAAG,IAAI;AACb;AACAb,IAAAA,WAAW,GAAGa,GAAd;;AACA,QAAIb,WAAJ,EAAgB;AAChBoB,MAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCrB,WAAW,CAACsB,SAA9C;AACAF,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCrB,WAAW,CAACuB,QAA7C;AACAH,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiC,GAAjC,EAHgB,CAGsB;AACrC;AACF,GA7BI,CAAP;AA+BD;AAED,OAAO,SAASG,MAAT,CAAgBtB,SAAhB,EAA0B,CAChC","sourcesContent":["import config from '../config'\n\nexport var currentUser = {}\n\nexport function signUp(usersData){\n  console.log(\"signing up...\", usersData)\n  // return a promise\n    return fetch(config.serverUrl+'/api/auth/signup', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(\n        {\n          ...usersData\n        }\n      )\n      }).then(\n        res => {\n          if(res.status === 200){\n            alert('Successfully signed up, please log in.')\n            window.location = \"http://localhost:3000/login_page\"\n            return res.json()\n          } else {\n            alert('Email has been registered, please try another one.')\n            window.location = \"http://localhost:3000/signup_page\"\n          }\n        }\n      )\n}\n\nexport function logIn(usersData){\n  console.log(usersData)\n  return fetch(config.serverUrl+'/api/auth/login', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n  },\n    body: JSON.stringify(\n      {\n        ...usersData\n      }\n    )  }).then(\n      res => {\n        if(res.status === 200){\n          alert('Successfully logged in!')\n          window.location = \"http://localhost:3000\"\n          return res.json()\n        } else {\n          alert('Wrong Email or password, please try agian.')\n          localStorage.setItem('ifLogged', 'N')\n          window.location = \"http://localhost:3000/login_page\"\n        }\n      }\n    ).then( res => {\n      //console.log('the res is: ', res)//it worked!\n      currentUser = res\n      if (currentUser){\n      localStorage.setItem('firstName', currentUser.firstName)\n      localStorage.setItem('lastName', currentUser.lastName)\n      localStorage.setItem('ifLogged', 'Y') //potential type issue\n      }\n    }\n    );\n}\n\nexport function logOut(usersData){\n}"]},"metadata":{},"sourceType":"module"}