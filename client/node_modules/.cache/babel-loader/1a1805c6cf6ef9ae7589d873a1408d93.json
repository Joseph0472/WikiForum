{"ast":null,"code":"var _jsxFileName = \"D:\\\\CodeStuff\\\\WikiForum\\\\WikiForum\\\\client\\\\src\\\\components\\\\articles\\\\createarticle.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { createArticle } from '../../redux/actions/articleactions';\nimport FetchArticle from '../fetcharticle';\nimport SelectionHighlighter from 'react-highlight-selection'; // import {TokenAnnotator, TextAnnotator} from 'react-text-annotate'\n// import SelectionHighlighter from \"react-highlight-selection\";\n\nclass CreateArticle extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: '',\n      content: '',\n      wikiContent: '',\n      firstName: localStorage.getItem('firstName'),\n      lastName: localStorage.getItem('lastName'),\n      htmlContent: ''\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      // e.preventDefault();\n      //console.log('the article is(from createarti com): ',this.state)\n      //this.props.createArticle(this.state)\n      if (e.nativeEvent.submitter.name === \"createArticle\") {\n        alert('A name was submitted: ' + this.state.value);\n      } else {\n        console.log('another btn clicked.');\n      }\n\n      e.preventDefault();\n    };\n\n    this.getWikiContent = fetchedContent => {\n      this.setState({\n        wikiContent: fetchedContent\n      });\n    };\n\n    this.handleClick = () => {\n      console.log(this.state.wikiContent);\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.selectionHandler = this.selectionHandler.bind(this);\n  }\n\n  selectionHandler(selection) {\n    if (window.getSelection) {\n      // all browsers, except IE before version 9\n      var range = window.getSelection();\n      console.log(range.toString());\n      this.getHighlightedText(range.toString());\n    } else {\n      if (document.selection.createRange) {\n        // Internet Explorer\n        var range = document.selection.createRange();\n        alert(range.text);\n      }\n    }\n  }\n\n  getHighlightedText(text, highlight) {\n    // Split text on highlight term, include term itself into parts, ignore case\n    const parts = text.split(new RegExp(`(${highlight})`, 'gi'));\n    return /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 16\n      }\n    }, parts.map(part => part.toLowerCase() === highlight.toLowerCase() ? /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 90\n      }\n    }, part) : part));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      className: \"white\",\n      id: \"createarticleform\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, \"New Post\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"wikiContent\",\n      onMouseUp: this.selectionHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FetchArticle, {\n      updateContent: content => this.getWikiContent(content),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }, \"Title\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"title\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }, \"Content\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      id: \"content\",\n      className: \"materialize-textarea\",\n      style: {\n        height: 500\n      },\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn pink lighten-1 z-depth-0\",\n      name: \"createArticle\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }, \"Create\"))), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, \"state\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.selectionHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }, \"Get the selected text!\"));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    createArticle: article => dispatch(createArticle(article))\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(CreateArticle);","map":{"version":3,"sources":["D:/CodeStuff/WikiForum/WikiForum/client/src/components/articles/createarticle.js"],"names":["React","connect","createArticle","FetchArticle","SelectionHighlighter","CreateArticle","Component","constructor","props","state","title","content","wikiContent","firstName","localStorage","getItem","lastName","htmlContent","handleChange","e","setState","target","id","value","handleSubmit","nativeEvent","submitter","name","alert","console","log","preventDefault","getWikiContent","fetchedContent","handleClick","bind","selectionHandler","selection","window","getSelection","range","toString","getHighlightedText","document","createRange","text","highlight","parts","split","RegExp","map","part","toLowerCase","render","height","mapDispatchToProps","dispatch","article"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {createArticle} from '../../redux/actions/articleactions'\r\nimport FetchArticle from '../fetcharticle'\r\nimport SelectionHighlighter from 'react-highlight-selection';\r\n// import {TokenAnnotator, TextAnnotator} from 'react-text-annotate'\r\n// import SelectionHighlighter from \"react-highlight-selection\";\r\n\r\n\r\nclass CreateArticle extends React.Component {\r\n    state = {\r\n        title : '',\r\n        content : '',\r\n        wikiContent: '',\r\n        firstName : localStorage.getItem('firstName'),\r\n        lastName : localStorage.getItem('lastName'),\r\n        htmlContent:''\r\n    }\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.selectionHandler = this.selectionHandler.bind(this);\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({\r\n            [e.target.id] : e.target.value\r\n        })\r\n    }\r\n    \r\n    handleSubmit = (e) => {\r\n        // e.preventDefault();\r\n        //console.log('the article is(from createarti com): ',this.state)\r\n        //this.props.createArticle(this.state)\r\n        if(e.nativeEvent.submitter.name === \"createArticle\") {\r\n            alert('A name was submitted: ' + this.state.value);\r\n      } else {\r\n        console.log('another btn clicked.')\r\n      }\r\n      e.preventDefault();\r\n    }\r\n\r\n    getWikiContent = (fetchedContent) => {\r\n        this.setState({\r\n            wikiContent: fetchedContent\r\n        })\r\n    }\r\n\r\n    handleClick = () => {\r\n        console.log(this.state.wikiContent)\r\n    }\r\n\r\n    selectionHandler(selection) {\r\n        if (window.getSelection) {  // all browsers, except IE before version 9\r\n            var range = window.getSelection();  \r\n            console.log(range.toString());\r\n            this.getHighlightedText(range.toString());\r\n        } \r\n        else {\r\n            if (document.selection.createRange) { // Internet Explorer\r\n                var range = document.selection.createRange ();\r\n                alert (range.text);\r\n            }\r\n        }\r\n    }\r\n\r\n    getHighlightedText(text, highlight) {\r\n        // Split text on highlight term, include term itself into parts, ignore case\r\n        const parts = text.split(new RegExp(`(${highlight})`, 'gi'));\r\n        return <span>{parts.map(part => part.toLowerCase() === highlight.toLowerCase() ? <b>{part}</b> : part)}</span>;\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"container\">\r\n                <form onSubmit={this.handleSubmit} className=\"white\" id=\"createarticleform\">\r\n                <h4>New Post</h4>\r\n                <div id=\"wikiContent\" onMouseUp={ this.selectionHandler }>\r\n                    <FetchArticle updateContent={(content)=>this.getWikiContent(content)} />\r\n                </div>\r\n                <div className=\"input-field\">\r\n                    <label htmlFor=\"title\">Title</label>\r\n                    <input type=\"text\" id=\"title\" onChange={this.handleChange} required/>\r\n                </div>\r\n                <div className=\"input-field\">\r\n                    <label htmlFor=\"content\">Content</label>\r\n                    <textarea id=\"content\" className=\"materialize-textarea\" style={{height: 500}} onChange={this.handleChange} required></textarea>\r\n                </div>\r\n                <div className=\"input-field\">\r\n                    <button className=\"btn pink lighten-1 z-depth-0\" name = 'createArticle' type=\"submit\">Create</button>\r\n                </div>\r\n                </form>\r\n                <button onClick = {this.handleClick}>state</button>\r\n                <button onClick = {this.selectionHandler}>Get the selected text!</button>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        createArticle: (article) => dispatch(createArticle(article))\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(CreateArticle)"]},"metadata":{},"sourceType":"module"}