{"ast":null,"code":"import { browserhistory } from 'react-router';\nimport postArticle from '../../api/article';\nimport config from '../../config';\nimport { LOAD_ARTICLES_LOADING, LOAD_ARTICLES_SUCCESS, LOAD_ARTICLES_ERROR, CREATE_ARTICLE, CREATE_ARTICLE_ERROR } from './action-types';\nexport const createArticle = article => {\n  //console.log(\"create article from actions:\", article)\n  return (dispatch, getState) => {\n    // halting dispach, make async call to db\n    fetch(config.serverUrl + '/api/article/newArticle', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ ...article\n      })\n    }).then(() => {\n      dispatch({\n        type: CREATE_ARTICLE,\n        article: article\n      });\n      window.location = \"http://localhost:3000\";\n    }).catch(err => {\n      window.location = \"http://localhost:3000\";\n      dispatch({\n        type: CREATE_ARTICLE_ERROR,\n        err: err\n      });\n    });\n  };\n};\nexport function loadArticlesLoading() {\n  return {\n    type: LOAD_ARTICLES_LOADING\n  };\n}\nexport function loadArticlesSuccess(articles) {\n  return {\n    type: LOAD_ARTICLES_SUCCESS,\n    articles\n  };\n}\nexport function loadArticlesError(err) {\n  return {\n    type: LOAD_ARTICLES_ERROR,\n    err\n  };\n}","map":{"version":3,"sources":["D:/CodeStuff/WikiForum/WikiForum/client/src/redux/actions/articleactions.js"],"names":["browserhistory","postArticle","config","LOAD_ARTICLES_LOADING","LOAD_ARTICLES_SUCCESS","LOAD_ARTICLES_ERROR","CREATE_ARTICLE","CREATE_ARTICLE_ERROR","createArticle","article","dispatch","getState","fetch","serverUrl","method","headers","body","JSON","stringify","then","type","window","location","catch","err","loadArticlesLoading","loadArticlesSuccess","articles","loadArticlesError"],"mappings":"AAAA,SAAQA,cAAR,QAA6B,cAA7B;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,SACIC,qBADJ,EAEIC,qBAFJ,EAGIC,mBAHJ,EAIIC,cAJJ,EAKIC,oBALJ,QAMO,gBANP;AASA,OAAO,MAAMC,aAAa,GAAIC,OAAD,IAAa;AACtC;AACA,SAAO,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAC3B;AACAC,IAAAA,KAAK,CAACV,MAAM,CAACW,SAAP,GAAmB,yBAApB,EAA+C;AAChDC,MAAAA,MAAM,EAAE,MADwC;AAEhDC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAFuC;AAKhDC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,EACjB,GAAGT;AADc,OAAf;AAL0C,KAA/C,CAAL,CAQGU,IARH,CAQQ,MACR;AACIT,MAAAA,QAAQ,CAAC;AACLU,QAAAA,IAAI,EAAGd,cADF;AAELG,QAAAA,OAAO,EAAGA;AAFL,OAAD,CAAR;AAIAY,MAAAA,MAAM,CAACC,QAAP,GAAkB,uBAAlB;AACH,KAfD,EAeGC,KAfH,CAeUC,GAAD,IAAO;AACZH,MAAAA,MAAM,CAACC,QAAP,GAAkB,uBAAlB;AACAZ,MAAAA,QAAQ,CAAC;AACLU,QAAAA,IAAI,EAAGb,oBADF;AAELiB,QAAAA,GAAG,EAAGA;AAFD,OAAD,CAAR;AAIH,KArBD;AAsBH,GAxBD;AAyBH,CA3BM;AA6BP,OAAO,SAASC,mBAAT,GAA+B;AAClC,SAAO;AACHL,IAAAA,IAAI,EAAEjB;AADH,GAAP;AAGH;AAED,OAAO,SAASuB,mBAAT,CAA6BC,QAA7B,EAAuC;AAC1C,SAAO;AACHP,IAAAA,IAAI,EAAEhB,qBADH;AAEHuB,IAAAA;AAFG,GAAP;AAIH;AAED,OAAO,SAASC,iBAAT,CAA2BJ,GAA3B,EAAgC;AACnC,SAAO;AACHJ,IAAAA,IAAI,EAAEf,mBADH;AAEHmB,IAAAA;AAFG,GAAP;AAIH","sourcesContent":["import {browserhistory} from 'react-router'\r\nimport postArticle from '../../api/article'\r\nimport config from '../../config'\r\nimport {\r\n    LOAD_ARTICLES_LOADING,\r\n    LOAD_ARTICLES_SUCCESS,\r\n    LOAD_ARTICLES_ERROR,\r\n    CREATE_ARTICLE,\r\n    CREATE_ARTICLE_ERROR\r\n} from './action-types'\r\n\r\n\r\nexport const createArticle = (article) => {\r\n    //console.log(\"create article from actions:\", article)\r\n    return (dispatch, getState) => {\r\n        // halting dispach, make async call to db\r\n        fetch(config.serverUrl + '/api/article/newArticle', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                ...article,\r\n            })\r\n        }).then(()=>\r\n        {\r\n            dispatch({\r\n                type : CREATE_ARTICLE,\r\n                article : article\r\n            })\r\n            window.location = \"http://localhost:3000\"\r\n        }).catch((err)=>{\r\n            window.location = \"http://localhost:3000\"\r\n            dispatch({\r\n                type : CREATE_ARTICLE_ERROR,\r\n                err : err       \r\n            })\r\n        })\r\n    }\r\n}\r\n\r\nexport function loadArticlesLoading() {\r\n    return {\r\n        type: LOAD_ARTICLES_LOADING\r\n    }\r\n}\r\n\r\nexport function loadArticlesSuccess(articles) {\r\n    return {\r\n        type: LOAD_ARTICLES_SUCCESS,\r\n        articles\r\n    }\r\n}\r\n\r\nexport function loadArticlesError(err) {\r\n    return {\r\n        type: LOAD_ARTICLES_ERROR,\r\n        err\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}