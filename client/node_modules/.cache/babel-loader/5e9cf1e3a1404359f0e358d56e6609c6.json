{"ast":null,"code":"import { browserhistory } from 'react-router'; // import {\n//     POSTING_ARTICLE_START,\n//     POSTING_ARTICLE_END,\n//     POSTING_ARTICLE_SUCCESS,\n//     POSTING_ARTICLE_FAILURE,\n// } from './action-types'\n//import { Article } from '../../../../server/db/schema'\n\nimport postArticle from '../../api/article'; // import { postDiscussionApi } from './api';\n\nexport const createArticle = article => {\n  console.log(\"create article from actions:\", article);\n  return (dispatch, getState) => {\n    // halting dispach, make async call to db\n    fetch('http://localhost:10001/api/article/newArticle', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(article)\n    }).then(() => {\n      dispatch({\n        type: 'CREATE_ARTICLE',\n        article: article\n      });\n    }).catch(err => {\n      dispatch({\n        type: 'CREATE_ARTICLE_ERROR',\n        err: err\n      });\n    });\n  };\n};","map":{"version":3,"sources":["/Users/Joesph/React_Apps/wikiforum-v2.0/client/src/redux/actions/articleactions.js"],"names":["browserhistory","postArticle","createArticle","article","console","log","dispatch","getState","fetch","method","headers","body","JSON","stringify","then","type","catch","err"],"mappings":"AAAA,SAAQA,cAAR,QAA6B,cAA7B,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAOC,WAAP,MAAwB,mBAAxB,C,CACA;;AAEA,OAAO,MAAMC,aAAa,GAAIC,OAAD,IAAa;AACtCC,EAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4CF,OAA5C;AACA,SAAO,CAACG,QAAD,EAAWC,QAAX,KAAwB;AAC3B;AACAC,IAAAA,KAAK,CAAC,+CAAD,EAAkD;AACnDC,MAAAA,MAAM,EAAE,MAD2C;AAEnDC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAF0C;AAKnDC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeV,OAAf;AAL6C,KAAlD,CAAL,CAMGW,IANH,CAMQ,MACR;AACIR,MAAAA,QAAQ,CAAC;AACLS,QAAAA,IAAI,EAAG,gBADF;AAELZ,QAAAA,OAAO,EAAGA;AAFL,OAAD,CAAR;AAIH,KAZD,EAYGa,KAZH,CAYUC,GAAD,IAAO;AACZX,MAAAA,QAAQ,CAAC;AACLS,QAAAA,IAAI,EAAG,sBADF;AAELE,QAAAA,GAAG,EAAGA;AAFD,OAAD,CAAR;AAIH,KAjBD;AAkBH,GApBD;AAqBH,CAvBM","sourcesContent":["import {browserhistory} from 'react-router'\n// import {\n//     POSTING_ARTICLE_START,\n//     POSTING_ARTICLE_END,\n//     POSTING_ARTICLE_SUCCESS,\n//     POSTING_ARTICLE_FAILURE,\n// } from './action-types'\n//import { Article } from '../../../../server/db/schema'\nimport postArticle from '../../api/article'\n// import { postDiscussionApi } from './api';\n\nexport const createArticle = (article) => {\n    console.log(\"create article from actions:\", article)\n    return (dispatch, getState) => {\n        // halting dispach, make async call to db\n        fetch('http://localhost:10001/api/article/newArticle', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(article)\n        }).then(()=>\n        {\n            dispatch({\n                type : 'CREATE_ARTICLE',\n                article : article\n            })\n        }).catch((err)=>{\n            dispatch({\n                type : 'CREATE_ARTICLE_ERROR',\n                err : err       \n            })\n        })\n    }\n}"]},"metadata":{},"sourceType":"module"}